{% extends "base.html" %}

{% block title %}{{ category_name }} - AI News Aggregator{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Breadcrumb -->
    <nav class="mb-6">
        <ol class="flex items-center space-x-2 text-sm text-gray-400">
            <li><a href="/" class="hover:text-primary transition">Home</a></li>
            <li><span class="mx-2 text-gray-600">/</span></li>
            <li class="text-gray-200 font-medium">{{ category_name }}</li>
        </ol>
    </nav>

    <!-- Page Header -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-100 mb-2">{{ category_name }}</h1>
        <p class="text-gray-400">{{ total_count }} articles in this category</p>
    </div>

    <!-- Category Navigation -->
    <div class="bg-dark-900 rounded-xl border border-gray-800 p-4 mb-8">
        <h2 class="text-sm font-medium text-gray-500 mb-3">Browse other categories</h2>
        <div class="flex flex-wrap gap-2">
            {% for cat in categories %}
            <a href="/category/{{ cat|urlencode }}" 
               class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium {% if cat == category_name %}bg-primary text-dark-950{% else %}bg-dark-800 text-gray-300 hover:bg-dark-700 border border-gray-700{% endif %} transition">
                {{ cat }}
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- Articles List -->
    {% if articles %}
    <div class="space-y-6">
        {% for article in articles %}
        <article class="bg-dark-900 rounded-xl border border-gray-800 hover:border-primary/30 transition overflow-hidden">
            <div class="p-6">
                <!-- Header -->
                <div class="flex items-center justify-between mb-3">
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary/20 text-primary border border-primary/30">
                        {{ article.source_name }}
                    </span>
                    {% if article.published_at %}
                    <time class="text-sm text-gray-500" datetime="{{ article.published_at.isoformat() }}">
                        {{ article.published_at.strftime('%B %d, %Y') }}
                    </time>
                    {% endif %}
                </div>
                
                <!-- Title -->
                <h2 class="text-xl font-semibold text-gray-100 mb-3 hover:text-primary transition">
                    <a href="{{ article.url }}" target="_blank" rel="noopener noreferrer">
                        {{ article.title }}
                    </a>
                </h2>
                
                <!-- Summary -->
                {% if article.summary %}
                <p class="text-gray-400 leading-relaxed mb-4">
                    {{ article.summary }}
                </p>
                {% endif %}
                
                <!-- Footer -->
                <div class="flex items-center justify-between pt-4 border-t border-gray-800">
                    <a href="{{ article.url }}" target="_blank" rel="noopener noreferrer" 
                       class="inline-flex items-center text-primary hover:text-accent transition font-medium">
                        Read full article
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                                  d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                        </svg>
                    </a>
                </div>
            </div>
        </article>
        {% endfor %}
    </div>
    {% else %}
    <!-- Empty State -->
    <div class="bg-dark-900 rounded-xl border border-gray-800 p-12 text-center">
        <svg class="w-16 h-16 mx-auto text-gray-700 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <h3 class="text-xl font-semibold text-gray-300 mb-2">No articles in this category</h3>
        <p class="text-gray-500">Check back later for new content.</p>
        <a href="/" class="inline-block mt-4 text-primary hover:text-accent transition font-medium">
            &larr; Back to all articles
        </a>
    </div>
    {% endif %}
</div>
{% endblock %}
